<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Jiang JinChao'S Pit" type="application/atom+xml" />






<meta name="description" content="人生最大的快乐不在于占有什么，而在于追求什么的过程">
<meta property="og:type" content="website">
<meta property="og:title" content="Jiang JinChao&#39;S Pit">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jiang JinChao&#39;S Pit">
<meta property="og:description" content="人生最大的快乐不在于占有什么，而在于追求什么的过程">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jiang JinChao&#39;S Pit">
<meta name="twitter:description" content="人生最大的快乐不在于占有什么，而在于追求什么的过程">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Jiang JinChao'S Pit</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  



  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
<a href="https://github.com/fjluda" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jiang JinChao'S Pit</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">分享旅程</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/01/2018-04-01-橡胶沥青应力吸收层施工方案/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/01/2018-04-01-橡胶沥青应力吸收层施工方案/" itemprop="url">橡胶沥青应力吸收层施工方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-01T09:06:05+08:00">
                2018-04-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/施工方案/" itemprop="url" rel="index">
                    <span itemprop="name">施工方案</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>应力吸收层是指铺筑于半刚性基层与沥青路面之间或者水泥混凝土路面与沥青路面之间，具有高变形能力的改性沥青层，它能够吸收裂缝部位的应力集中，防止沥青路面形成反射裂缝，加强层间黏结与防水，延长路面使用寿命的特点。</p>
<h2 id="主要施工机械及检测仪器"><a href="#主要施工机械及检测仪器" class="headerlink" title="主要施工机械及检测仪器"></a>主要施工机械及检测仪器</h2><h3 id="1、-主要施工机械"><a href="#1、-主要施工机械" class="headerlink" title="1、 主要施工机械"></a>1、 主要施工机械</h3><ol>
<li>橡胶沥青生产设备一套</li>
<li>橡胶沥青碎石同步封层车一台</li>
<li>洒水车</li>
<li>森林灭火鼓风机2台</li>
<li>压路机：25T轮胎压路机1台</li>
<li>ZL50装载机1台</li>
</ol>
<h3 id="2、主要检测仪器"><a href="#2、主要检测仪器" class="headerlink" title="2、主要检测仪器"></a>2、主要检测仪器</h3><ol>
<li>沥青针入度仪器</li>
<li>沥青延度仪</li>
<li>沥青软化点仪</li>
<li>布式旋转粘度计</li>
<li>标准筛（方筛孔）</li>
</ol>
<h2 id="施工工艺"><a href="#施工工艺" class="headerlink" title="施工工艺"></a>施工工艺</h2><ol>
<li>施工前应进行基层的清扫、吸尘和清洗。<br>先人工用竹扫帚将基层表面进行全面清扫，再用2～3台森林灭火鼓风机沿纵向排成斜线将浮灰吹净，若不能达到”除净”的要求，则用水冲洗，清除基层表面浮灰和泥浆，尽量使基层顶面集料颗粒能部分外露。</li>
<li>确定橡胶粉的掺量<br>一般选择至少三个不同的橡胶粉掺量（例如14％、16％、18％）进行试验，将橡胶粉加入沥青的温度范围在177～204℃之间，拌和1小时后进行试验。根据试验结果选取合适的橡胶粉掺量，橡胶沥青各项指标应满足表3技术要求。</li>
<li>橡胶沥青的生产<br>应由熟练人员操作橡胶沥青生产设备，采用间歇式方式生产。操作人员准确控制导热油温度，准确控制配料比例。对成品橡胶沥青及时进行各项检验。</li>
<li>在洒布橡胶沥青前，应注意检查<br>空气温度和地面温度都不得低于15℃，下承层必须干燥，路缘石防护良好。风速不影响橡胶沥青洒布效果。需用的设备进入待命状态，包括橡胶沥青洒布车、碎石撒布机、胶轮压路机。</li>
<li>橡胶沥青洒布<br>橡胶沥青洒布量采用1.5～2.0kg/㎡,采用预裹附的集料时。 起步和终止位置应铺工程纸（油毛毡），以准确进行横向衔接，洒布车经过后应及时取走工程纸。 纵向衔接应与已洒布部分重叠10cm左右。 撒铺碎石前禁止任何车辆、行人通过橡胶沥青层。</li>
<li>撒铺碎石<br>喷洒橡胶沥青后应立即撒铺碎石，碎石撒铺量为8-12 kg/㎡,根据试铺情况确定，以满铺、不散失为度，碎石覆盖率要达到80%以上,对于局部碎石撒铺量不足的地方，用人工补足。</li>
<li>碾压<br>采用25T以上的胶轮压路机进行压实。碎石撒铺后应立即进行碾压作业，胶轮压路机应同时进行碾压，紧跟碎石撒铺车，碾压数为2遍。</li>
<li>在铺筑上层沥青混合料前，应对橡胶沥青应力吸收层进行清扫，以清除没有粘结的松散碎石，避免影响应力吸收层与上面层的粘结。</li>
<li>橡胶沥青应力吸收层施工应与上面层沥青混凝土紧凑进行，中间不开放交通，若期间必须开放交通，须待应力吸收层施工完成3小时后方可开放交通，但车速不宜超过25km/h。</li>
</ol>
<h2 id="橡胶沥青应力吸收层施工要求"><a href="#橡胶沥青应力吸收层施工要求" class="headerlink" title="橡胶沥青应力吸收层施工要求"></a>橡胶沥青应力吸收层施工要求</h2><h3 id="1、原材料质量控制要求"><a href="#1、原材料质量控制要求" class="headerlink" title="1、原材料质量控制要求"></a>1、原材料质量控制要求</h3><p><strong>橡胶粉</strong><br>橡胶粉颗粒规格应符合下表要求。橡胶粉筛分应采用水筛法进行试验。橡胶粉密度应为1.15   0.05 g/cm3，应无铁丝或其它杂质，纤维比例应不超过0.5%。<br>供应商应提供橡胶粉质量保证书，说明橡胶粉规格、加工方式、加工的废旧轮胎类型、橡胶粉的储存方式等。</p>
<p><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.08.05.png" alt="屏幕快照 2018-04-01 下午6.08.05-w600"></p>
<p><strong>橡胶沥青</strong><br>橡胶改性沥青应满足以下技术要求，其抽检项目符合下表的要求。</p>
<p><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.08.15.png" alt="屏幕快照 2018-04-01 下午6.08.15-w600"></p>
<p><strong>集料</strong><br>应力吸收层应采用石质坚硬、清洁、不含风化颗粒、近立方体颗粒的破碎卵碎石，应选用反击式破碎机轧制的碎石，规格为5mm～10mm。<br>橡胶沥青应力吸收层集料级配范围如下表。 </p>
<p><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.08.27.png" alt="屏幕快照 2018-04-01 下午6.08.27-w600"></p>
<h3 id="2、质量管理"><a href="#2、质量管理" class="headerlink" title="2、质量管理"></a>2、质量管理</h3><ol>
<li>施工阶段的检测项目包括：橡胶沥青性质、橡胶沥青洒布量、集料洒布量、刹车试验、外观检查等。</li>
<li><p>检验方法及检验标准见下表<br><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.08.41.png" alt="屏幕快照 2018-04-01 下午6.08.41-w600"></p>
</li>
<li><p>橡胶沥青洒布量和碎石洒铺量控制<br><strong>沥青洒布量控制</strong><br>将要洒布沥青时，在标准尺寸矩形容器内置沥青油毡，称其重量并置于洒布车前5～10m，待洒布车经过容器后立即取出再称其重，以此计算实际撒布量，再结合沥青洒布车电脑调节装置直到设计洒布量为止。<br><strong>碎石撒布量控制</strong><br>将要洒布碎石时，取一标准尺寸矩形容器称其重量并置于撒布车前已洒布沥青路面的路段最尾处，待洒布车经过容器后立即取出再称其重，以此计算实际洒布量，然后通过调节装置直至调到设计洒布量为止。</p>
</li>
<li><p>橡胶沥青施工时间关键点</p>
<ul>
<li>沥青车预热准备时间为2小时</li>
<li>沥青撤布车，泵满6吨沥青的时间为20分钟。</li>
<li>沥青撒布车每6吨橡胶沥青每升温10℃时间约为1小时，185℃升到200℃需要约90分钟。</li>
<li>正常的工作时间。撤布完6吨橡胶沥青的时间为1-2小时。</li>
</ul>
</li>
</ol>
<h2 id="原材料规格及厂家"><a href="#原材料规格及厂家" class="headerlink" title="原材料规格及厂家"></a>原材料规格及厂家</h2><h3 id="1、基质沥青"><a href="#1、基质沥青" class="headerlink" title="1、基质沥青"></a>1、基质沥青</h3><p>橡胶沥青所用的基质沥青采用70号道路石油沥青，其技术要求见表1。</p>
<p><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.09.23.png" alt="屏幕快照 2018-04-01 下午6.09.23-w600"></p>
<h3 id="2、橡胶粉"><a href="#2、橡胶粉" class="headerlink" title="2、橡胶粉"></a>2、橡胶粉</h3><p>橡胶沥青所采用的橡胶粉规格应符合表2要求。橡胶粉筛分应采用水筛法进行试验。橡胶粉密度应为1.15   0.05 g/cm3，应无铁丝或其它杂质，纤维比例应不超过0.5%，要求含有橡胶粉重量4%的碳酸钙，以防止胶粉颗粒相互粘结。<br>供应商应提供橡胶粉质量保证书，说明橡胶粉规格、加工方式、加工的废旧轮胎类型、橡胶粉的储存方式等。</p>
<p><img src="http://p5mgr4bgm.bkt.clouddn.com/屏幕快照 2018-04-01 下午6.19.05.png" alt="屏幕快照 2018-04-01 下午6.19.05-w600"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/31/2018-03-31-非离子乳化沥青防水涂料的配方及制作工艺/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/31/2018-03-31-非离子乳化沥青防水涂料的配方及制作工艺/" itemprop="url">非离子乳化沥青防水涂料的配方及制作工艺</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-31T09:06:05+08:00">
                2018-03-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/乳化沥青/" itemprop="url" rel="index">
                    <span itemprop="name">乳化沥青</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<p>乳化沥青防水涂料是一种非离子型冷施工的防水、黏结材料。施工时呈液态，为棕褐色液体（硬化后成黑色），本产品无毒、无臭、不燃，具有良好的涂覆和黏结性，干燥快，干燥后变成一种稳定的薄膜，是一种“湿流干凝”材料。</p>
<h2 id="原料及制作工艺"><a href="#原料及制作工艺" class="headerlink" title="原料及制作工艺"></a>原料及制作工艺</h2><p><strong>原料</strong></p>
<ul>
<li>甲液：平平加O（2.2-2.4）</li>
<li>聚乙烯醇（4-4.2）</li>
<li>氢氧化钠（0.45-0.5）</li>
<li>泡花碱（中性）（1.4-1.6）</li>
<li>水（100）</li>
<li>乙液：10#沥青（25）、60#沥青（75）</li>
</ul>
<p><strong>制作工艺</strong></p>
<ol>
<li>将10#和60#沥青按配合比称量加入锅内，加热至200-220℃溶液脱水过滤后，降温至150-160℃以备待用（<code>乙液</code>）;</li>
<li>按配合比称取一定数量的基乙烯醇加入桶内（<em>用前先用少量清水浸泡一夜，便于加热溶化</em>）加入一定量的水，用水浴法加热搅拌使之溶解。;</li>
<li>将乳化剂按配合比分别加入已知质量的80-90℃热水中。加料次序是先加氢氧化钠，搅拌使其溶解，随即加泡花碱及聚乙烯醇搅拌均匀，再加平平加O成为混合液，再加足水量保持<strong>70-80</strong>℃左右待用（<code>甲液</code>）;</li>
<li>将乳化剂溶液（甲液）倒入搅拌机中，开机搅拌，即将事先准备好的沥青溶液（<code>乙液</code>）徐徐注入匀化机中进行乳化，经3-4min后，将出料阀门打开，将乳化沥青放出，经冷却装桶密封保存。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2018-03-30-SBS胶乳改性乳化沥青稳定性研究/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2018-03-30-SBS胶乳改性乳化沥青稳定性研究/" itemprop="url">SBS胶乳改性乳化沥青稳定性研究</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T19:06:05+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/改性乳化沥青/" itemprop="url" rel="index">
                    <span itemprop="name">改性乳化沥青</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<blockquote>
<p>胶乳类作为改性剂制备改性乳化沥青时，乳化沥青和胶乳在乳化剂的作用下，破坏各自原有的平衡，重新建立起一种新的平衡，如果这种平衡不能稳定存在，将会影响改性乳化沥青的生产、储存和使用。因此，乳液稳定性是评价改性乳化沥青的关键指标。而改性乳化沥青的稳定性与制备工艺、乳化剂用量、胶乳与乳化沥青颗粒大小等诸多因素有关。从热力学的角度分析，任何乳状液都不是稳定的，随着时间的推移、环境温度的变化或接触介质的变化，都可能引起乳状液的分层、絮凝和聚集，最终导致乳状液的破坏。改性乳化沥青是一种热力学不稳定体系，其稳定性是由所添加的乳化剂、乳液稳定剂等产生的各种作用而引起的。维持乳液稳定性的各种理论主要有吸附理论、膜理论、吸附双电层理论等。</p>
</blockquote>
<h2 id="1-试验部分"><a href="#1-试验部分" class="headerlink" title="1. 试验部分"></a>1. 试验部分</h2><h3 id="试验原料"><a href="#试验原料" class="headerlink" title="试验原料"></a>试验原料</h3><ul>
<li>基质沥青：胜利90号；</li>
<li>乳化剂：JQT，阳离子型，江阴峭歧股份有限公司生产；</li>
<li>改性剂：自制的SBS胶乳：固含量为40.68%，具有很好的稳定性；</li>
<li>稳定剂；CaCl2：化学纯；聚丙烯酰胺；</li>
<li>盐酸：化学纯。 </li>
</ul>
<h3 id="试验设备"><a href="#试验设备" class="headerlink" title="试验设备"></a>试验设备</h3><p>沥青乳化机：温州兴达机械制造厂生产，型号YXD-60。</p>
<h3 id="制备工艺"><a href="#制备工艺" class="headerlink" title="制备工艺"></a>制备工艺</h3><p>按胶乳混合状态分类，改性乳化沥青的制备方法通常有3种：二次热混合法、一次热混合法和一次冷混合法。目前普遍认为二次热混合法的乳化效果较好。试验采用二次热混合法，其工艺流程见图1。即先将SBS胶乳和乳化剂的水溶液经混合剪切进行第一次混合，然后再加入热的沥青，在沥青乳化剂的作用下进行第二次乳化分散的过程。</p>
<h2 id="2-SBS胶乳的制备"><a href="#2-SBS胶乳的制备" class="headerlink" title="2. SBS胶乳的制备"></a>2. SBS胶乳的制备</h2><p>取25g线型的SBS-792于烧杯中，加入一定量的甲苯溶剂，放置1h，使得SBS充分溶胀；再于烧杯中加入定量的以阳离子为主的复配型乳化剂，此混合液在高分散乳化机作用下，慢慢注入定量的热蒸馏水，在此过程中，乳化机的转速为10 000rpm；待水加入完毕后，调节乳化机转速至16 000rpm，作用30min，得O/W型初级乳液；此初级乳液通过减压蒸馏分出其中的甲苯溶剂，得SBS胶乳。</p>
<h2 id="3-试验结果与讨论"><a href="#3-试验结果与讨论" class="headerlink" title="3. 试验结果与讨论"></a>3. 试验结果与讨论</h2><h3 id="乳化剂用量的影响"><a href="#乳化剂用量的影响" class="headerlink" title="乳化剂用量的影响"></a>乳化剂用量的影响</h3><p>乳化剂的用量少，乳化效果不好，乳液中沥青微粒粒径大小不均，体系的储存稳定性下降；用量多，使生产成本提高，造成浪费。通过考察乳化剂用量对沥青乳化后储存稳定性的影响，进而也可以确定乳化剂的最佳用量。影响见图2。改性乳化沥青中，SBS胶乳的含量为总物料的6%。<br>从图2可以看出，乳化剂的用量在0.4%-0.8%范围内时，乳化沥青的储存稳定性随乳化剂的用量变化很大，当用量大于0.8%时，乳化沥青的储存稳定性几乎保持不变，且乳液具有很好的储存稳定性。对于加入6%SBS胶乳(相当于4.8%的固体SBS含量)的改性乳化沥青，乳化剂用量小于1%时，其储存稳定性随乳化剂用量的增加变化较大，乳化剂用量大于1%，乳化剂的用量对改性乳化沥青的储存稳定性影响较小，体系趋于稳定。<br>当乳化剂用量较少时，乳化剂不能使水的表面张力充分降低，沥青和水几乎是直接接触着的，乳化效果不好，所以稳定性差；随着乳化剂量的增加，沥青乳液逐渐开始趋向于稳定的状态，乳化剂分子的亲水和亲油基团分别和水、改性沥青结合。再增加乳化剂用量，沥青乳液稳定性的变化不大时，说明沥青乳液中乳化剂含量已经达到临界胶束浓度。从图2可以看出，阳离子乳化剂JQT在含量为1%时才能在改性乳化沥青中达到临界胶束浓度。</p>
<h3 id="稳定剂用量的影响"><a href="#稳定剂用量的影响" class="headerlink" title="稳定剂用量的影响"></a>稳定剂用量的影响</h3><p>用单一乳化剂制备沥青乳液，其乳液颗粒有时会粗大不均，易发生絮凝或者沉降现象。</p>
<p>如果在单一乳化剂中添加稳定剂制备沥青乳液，则可以得到颗粒均匀而微细的乳液。稳定剂包括无机稳定剂和有机稳定剂。其中稳定效果最好的无机盐类物质为氯化铵和氯化钙。有机盐类稳定剂有胺类、聚乙烯醇、聚丙烯酰胺、羧甲基纤维素钠等，因此选择适宜的稳定剂是保证乳化沥青稳定的重要措施。</p>
<p>试验在乳化剂和改性剂用量为总物料的1%和6%条件下，分别考察无机稳定剂CaCl2和有机稳定剂聚丙烯酰胺及其复配后对改性乳化沥青储存稳定性的影响。见图3。</p>
<p>图3表明，无论是无机类还是有机类稳定剂，改性乳化沥青的储存稳定性并不随其用量的增加而呈现降低的趋势，其用量存在一个最佳值。出现此原因，主要是因为添加稳定剂能够增强乳液颗粒周围的双电层效应，增加f电位和颗粒之间的相互排斥力，只有当颗粒间的排斥力达到某一平衡时，颗粒间才可以稳定共存；排斥力太大或太小，都会使得颗粒之间存在凝聚，不能起到很好的稳定效果。由此可以看出，CaCl2的最佳用量为0.2%；聚丙烯酰胺和1：1质量比复配的CaCl2和聚丙烯酰胺的最佳用量都为0.15%。</p>
<p>从图3中还可以看出，聚丙烯酰胺的稳定效果优于CaCl2，究其原理，是沥青乳液中加入聚丙烯酰胺稳定剂，可以提高水相粘度，能在分散的微粒上形成界面膜，使其微粒相互碰撞时不易聚结，减小沥青微粒的沉降速度。界面膜由密排的定向分子组成，膜的强度较大，沥青微粒聚结需要克服的阻力也大，因而沥青乳液越能稳定。加入CaCl2后增大水相密度，减小与沥青相的密度差，能够增强乳液颗粒周围的双电层效应，增大f电位，增加颗粒之间的相互排斥力，减缓颗粒之间的合一凝聚速度。从试验结果可以看出，对于胜利90号重交通道路石油沥青来说，增加乳液的粘度和密度虽都可以达到稳定的效果，但是粘度的增加对储存稳定性的贡献更大。而复配的CaCl2和聚丙烯酰胺作为稳定剂时，其一方面增加水相的粘度，另一方面增加水相的密度，在与单一稳定剂用量相同的条件下，其可以起到双重的稳定效果，故可以大大改善改性乳化沥青的储存稳定牲。因此，对于胜利90号重交通道路石油沥青，采用无机和有机复配的稳定剂效果最好。</p>
<h3 id="乳化剂溶液的pH值的影响"><a href="#乳化剂溶液的pH值的影响" class="headerlink" title="乳化剂溶液的pH值的影响"></a>乳化剂溶液的pH值的影响</h3><p>对于阳离子乳化剂，主要在酸性条件下使用。以季铵盐型乳化剂配制乳化液时，由于其乳化剂易溶于水，不需添加酸。但如果在季铵盐中添加有机或者无机酸调整溶液的pH值，能够增强乳化剂本身的活性，在提高乳化稳定性和储存稳定性的同时，可以降低乳化剂的用量。<br>此试验采用盐酸来调节乳化剂的pH值，在没有添加稳定剂的条件下考察乳液pH值对改性乳化沥青存储稳定性的影响。其中SBS胶乳的加入量为6%，乳化剂用量为l%。<code>见表l</code>。</p>
<p>表1  乳化剂水溶液pH值对改性乳化沥青储存稳定性的影响<br><img src="http://p5mgr4bgm.bkt.clouddn.com/15223956090185.jpg" alt="表1-w700"></p>
<p>从表1可以看出，乳化剂水溶液本身的pH值范围为5-6，而与SBS胶乳的pH值的范围相同，因此两种乳液混合后颗粒的稳定性好。对于乳化沥青来说，加入酸，可能会使乳液达到较好的稳定性，而在此试验中效果恰恰相反，从表中数据可以看出，随着酸的加入，pH变小，体系的储存稳定性下降。由此可见，在采用胶乳类改性剂制备改性乳化沥青时，要得到稳定体系，需调整乳化剂水溶液的pH值与改性剂乳液的一致。</p>
<h3 id="SBS胶乳对体系微观稳定性的影响"><a href="#SBS胶乳对体系微观稳定性的影响" class="headerlink" title="SBS胶乳对体系微观稳定性的影响"></a>SBS胶乳对体系微观稳定性的影响</h3><p>由于SBS胶乳作为改性剂时，其用量只有百分之几，考察其对改性乳化沥青储存稳定性的影响，不能从根本上反映出SBS在体系中的分散状况，因此本试验采用德国莱卡公司生产的光学电子显微镜进行分析。图4和图5分别为改性剂SBS胶乳用量为6%时的光学显微镜图。<br>放大倍数分别为400和l 000倍。从图中可以看出SBS颗粒(白色颗粒)在乳化沥青中分散比较均匀，没有明显的聚集结胶现象。<br>通过透射电镜分析，得出SBS颗粒平均粒径为1.97 p.m，沥青的平均粒径为2.53 p.m。测量SBS胶乳20C的密度为0.990lg/cm-1，乳化沥青的密度1.089g/cm-1。两者颗粒大小、密度的相近是保证SBS在体系中均匀分散的重要因素。<br>此外，影响改性乳化沥青稳定性的因素还有制备工艺、乳化设备、沥青特性等诸多因素。为了使改性乳化沥青具有一定的稳定性，.在研制生产过程中，应采取以下措施：(1)应尽量选择结构与沥青组成结构相同或相似的乳化剂以提高其亲和力，且乳化剂的用量要达到临界胶束浓度；(2)应设法提高连续相(水相)的粘度，以降低颗粒的沉降速率；(3)应尽量减少分散相与连续相之间的密度差；(4)应调整乳化剂水溶液的pH值，以保证对沥青的完全乳化，此外也要与胶乳类改性剂的pH值相同或接近；(5)应尽量选用乳化后颗粒大小与沥青颗粒大小相近的改性剂。</p>
<h2 id="4-SBS胶乳改性乳化沥青的性能分析"><a href="#4-SBS胶乳改性乳化沥青的性能分析" class="headerlink" title="4  SBS胶乳改性乳化沥青的性能分析"></a>4  SBS胶乳改性乳化沥青的性能分析</h2><p>根据稳定性考察得出的各影响因素的最佳用量制备改性乳化沥青，即乳化剂JQT的用量为1%；SBS胶乳用量为6%；稳定剂选用1 c1质量比复配的。CaCl2和聚丙烯酰胺，用量为o.15%。其中沥青与水的比例为50：50，乳化机转速1 000rpm，乳化时间为3rain。对其的性质进行分析，分别采用相应的行业标准。具体数据列于<code>下表2</code>。<br> <img src="http://p5mgr4bgm.bkt.clouddn.com/15223956888655.jpg" alt="表2-w700"></p>
<p>从表2中可以看出，所制备的改性乳化沥青的各项性能均满足公路施工技术规范的要求，是一效果较好的改性乳化沥青。从蒸发残留物性能来看，改性后针入度、软化点和延度相对于基质沥青(25℃针入度：85 1/10mm；软化点：47.5C，5C延度：脆断)都有不同程度的改善，进而说明SBS胶乳对沥青具有很好的改性效果，是一性能较好的改性剂乳液。</p>
<h2 id="5-结论"><a href="#5-结论" class="headerlink" title="5  结论"></a>5  结论</h2><ul>
<li>阳离子乳化剂JQT在用量为1%时达到其临界胶束浓度，即其的最佳用量为1%。<br>-对于胜利90号重交通道路石油沥青，无机类和有机类稳定剂复配后可以大大提高其的储存稳定性。</li>
<li>对于乳化剂JQT，加酸降低其水溶液的pH值反而对改性乳化沥青的储存稳定性不利。</li>
<li>SBS颗粒的大小和密度与乳化后沥青颗粒的大小和乳化沥青的密度匹配时，可以使得SBS颗粒在乳化沥青中分散均匀。</li>
<li>根据试验得出的各因素的最佳用量制备出性能优良的改性乳化沥青，通过SBS胶乳改性前后沥青的三项指标分析得出，SBS胶乳具有很好的改性效果，是一较好的改性剂乳液。</li>
</ul>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2018-03-30-Markdown修改后比较喜欢的SSC样式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2018-03-30-Markdown修改后比较喜欢的SSC样式/" itemprop="url">Markdown修改后比较喜欢的SSC样式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T19:06:05+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Markdown/" itemprop="url" rel="index">
                    <span itemprop="name">Markdown</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<h3 id="SSC样式"><a href="#SSC样式" class="headerlink" title="SSC样式"></a>SSC样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">      color:  #333;</span><br><span class="line">  font-family: <span class="string">"Helvetica Neue"</span>, Helvetica, Arial, <span class="string">"PingFang SC"</span>, <span class="string">"Hiragino Sans GB"</span>, <span class="string">"Heiti SC"</span>, <span class="string">"Microsoft YaHei"</span>, <span class="string">"WenQuanYi Micro Hei"</span>, sans-serif;</span><br><span class="line">  font-weight: <span class="number">300</span>;</span><br><span class="line">  margin: <span class="number">0</span> auto;</span><br><span class="line">  max-width: <span class="number">55</span>rem; <span class="comment">/* 设置段落的最大宽度 */</span></span><br><span class="line">  line-height: <span class="number">1.7</span>; <span class="comment">/* line-height 属性设置行间的距离（行高）*/</span></span><br><span class="line">  padding: <span class="number">.25</span>rem;</span><br><span class="line">&#125;</span><br><span class="line">h1, h2, h3, h4, h5, h6 &#123;</span><br><span class="line">    font-weight: <span class="number">400</span>;</span><br><span class="line">    color: #444;</span><br><span class="line">  &#125;</span><br><span class="line">h1 &#123;</span><br><span class="line">    font-size: <span class="number">32</span>px;</span><br><span class="line">    margin: <span class="number">0</span> <span class="number">0</span> <span class="number">45</span>px;</span><br><span class="line">   text-align: center;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">h2 &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    font-size: <span class="number">24</span>px;</span><br><span class="line">    padding-left: <span class="number">15</span>px;</span><br><span class="line">&#125;</span><br><span class="line">h3 &#123;</span><br><span class="line">    font-size: <span class="number">1.17</span>em;</span><br><span class="line">    color: #f66;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    border-bottom: 1px solid #ddd;</span><br><span class="line">    padding-bottom: <span class="number">5</span>px;</span><br><span class="line">&#125;</span><br><span class="line">h4 &#123;</span><br><span class="line">    margin: <span class="number">15</span>px <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">h6 &#123;</span><br><span class="line"> font-size: <span class="number">16</span>px;</span><br><span class="line">text-align: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h2:before &#123;</span><br><span class="line">    content: <span class="string">''</span>;</span><br><span class="line">    width: <span class="number">5</span>px;</span><br><span class="line">    background: #f66;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: <span class="number">0</span>px;</span><br><span class="line">    height: <span class="number">75</span>%;</span><br><span class="line">    top: <span class="number">12</span>%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 行内代码 */</span></span><br><span class="line">blockquote &#123;</span><br><span class="line">  border-left: 8px solid #f0f0f0;</span><br><span class="line">  padding: <span class="number">1</span>rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pre,</span><br><span class="line">code &#123;</span><br><span class="line">  background-color: #f8f8f8;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line">    border-spacing: <span class="number">0</span>;</span><br><span class="line">    border-collapse: collapse;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    width: <span class="number">100</span>%;</span><br><span class="line">    overflow: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table th &#123;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table th,</span><br><span class="line">table td &#123;</span><br><span class="line">    padding: <span class="number">6</span>px <span class="number">13</span>px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table tr &#123;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    border-top: 1px solid #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table tr:nth-child(<span class="number">2</span>n) &#123;</span><br><span class="line">    background-color: #f8f8f8;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 标记，类似于手写的荧光笔的作用 */</span></span><br><span class="line">mark &#123;</span><br><span class="line">  background: #fffdd1;</span><br><span class="line">  border-bottom: 1px solid #ffedce;</span><br><span class="line">  padding: <span class="number">2</span>px;</span><br><span class="line">  margin: <span class="number">0</span> <span class="number">5</span>px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 代码片断 */</span></span><br><span class="line">pre, code, pre tt &#123;</span><br><span class="line">  font-family: Courier, <span class="string">'Courier New'</span>, monospace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pre &#123;</span><br><span class="line">  background: #f8f8f8;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  padding: <span class="number">1</span>em <span class="number">1.5</span>em;</span><br><span class="line">  display: block;</span><br><span class="line">  -webkit-overflow-scrolling: touch;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 让链接在 hover 状态下显示下划线 */</span></span><br><span class="line">a &#123;</span><br><span class="line">  color: #1abc9c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a:hover &#123;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.typo a &#123;</span><br><span class="line">  border-bottom: 1px solid #1abc9c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.typo a:hover &#123;</span><br><span class="line">  border-bottom-color: #555;</span><br><span class="line">  color: #555;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 对齐是排版最重要的因素, 别让什么都居中 */</span></span><br><span class="line">caption, th &#123;</span><br><span class="line">  text-align: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">q:before, <span class="attr">q</span>:after &#123;</span><br><span class="line">  content: <span class="string">''</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 统一上标和下标 */</span></span><br><span class="line">sub, sup &#123;</span><br><span class="line">  font-size: <span class="number">75</span>%;</span><br><span class="line">  line-height: <span class="number">0</span>;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:root sub, :root sup &#123;</span><br><span class="line">  vertical-align: baseline; <span class="comment">/* for ie9 and other modern browsers */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sup &#123;</span><br><span class="line">  top: <span class="number">-0.5</span>em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sub &#123;</span><br><span class="line">  bottom: <span class="number">-0.25</span>em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2017-12-13-Ubuntu16.04-pycharm-icon-setting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2017-12-13-Ubuntu16.04-pycharm-icon-setting/" itemprop="url">Ubuntu16.04设置Pycharm桌面快捷键</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SnakeSon/" itemprop="url" rel="index">
                    <span itemprop="name">SnakeSon</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Ubuntu下所有的快捷方式都在："><a href="#Ubuntu下所有的快捷方式都在：" class="headerlink" title="Ubuntu下所有的快捷方式都在："></a>Ubuntu下所有的快捷方式都在：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/applications</span><br></pre></td></tr></table></figure>
<h2 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h2><p>这里我将pycharm下载并解压到了/home/snakeson/developer文件夹下</p>
<p>这里的pycharm.sh是批处理执行文件，prcharm.png是快捷方式图标</p>
<h2 id="终端打开"><a href="#终端打开" class="headerlink" title="终端打开"></a>终端打开</h2><p>使用Ubuntu终端进行打开：<br>方法一（使用vim）：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi  /usr/share/applications/pycharm.desktop</span><br></pre></td></tr></table></figure></p>
<p>方法二（使用gedit）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit  /usr/share/applications/pycharm.desktop</span><br></pre></td></tr></table></figure>
<p>然后就会弹出一个新框：</p>
<h2 id="张贴"><a href="#张贴" class="headerlink" title="张贴"></a>张贴</h2><p>我们将下面的内容贴上去：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[Desktop Entry]</span><br><span class="line">Type=Application</span><br><span class="line">Name=Pycharm</span><br><span class="line">GenericName=Pycharm3</span><br><span class="line">Comment=Pycharm3:The Python IDE</span><br><span class="line">Exec=<span class="string">"/home/snakeson/developer/pycharm-community-2017.2.3/bin/pycharm.sh"</span> %f</span><br><span class="line">Icon=<span class="regexp">/home/</span>snakeson/developer/pycharm-community<span class="number">-2017.2</span><span class="number">.3</span>/bin/pycharm.png</span><br><span class="line">Terminal=pycharm</span><br><span class="line">Categories=Pycharm;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>注意一定要将Desktop Entry复制进去，也就是上面的全部都要复制进去，这里我们需要替换掉两个地方：<strong>Exec=”xx”</strong>和<strong>Icon=</strong>,这里要替换掉我们的pycharm解压的目录，当然了，我已经替换好了，如果你的目录跟我的目录不一样的话，你得把路径给换了，不管你是pycharm2017还是pycharm2016,，例如Comment什么的都不要改变，只变上面提到的两个路径就可以了。</p>
<h2 id="添加可执行权限"><a href="#添加可执行权限" class="headerlink" title="添加可执行权限"></a>添加可执行权限</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x /usr/share/applications/pycharm.desktop</span><br></pre></td></tr></table></figure>
<h2 id="拷贝到桌面"><a href="#拷贝到桌面" class="headerlink" title="拷贝到桌面"></a>拷贝到桌面</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将/usr/share/applications/pycharm.desktop文件拷贝到桌面，双击即可运行。</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2017-12-04-test-my-webapp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2017-12-04-test-my-webapp/" itemprop="url">这是我自己来测试的md页面</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<p>关于写倒计时大家可能都都比较熟悉，使用 setTimeout 或 setInterval 就可以搞定。几秒钟或者几分钟的倒计时这样写没有问题，但是如果是长时间的倒计时，这样写就会不准确。如果用户修改了他的设备时间，这样的倒计时就没有意义了。今天就说说写一个精确的倒计时的方法。</p>
<p><img src="https://img.alicdn.com/tfs/TB18QnlOpXXXXcVXpXXXXXXXXXX-388-256.png" alt=""></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>众所周知 setTimeout 或者 setInterval 调用的时候会有微小的误差。有人做了一个 <a href="https://bl.ocks.org/kenpenn/raw/92ebaa71696b4c4c3acd672b1bb3f49a/" target="_blank" rel="noopener">demo</a> 来观察这个现象并对其做了修正。短时间的误差倒也可以接受，但是作为一个长时间的倒计时，误差累计就会导致倒计时不准确。</p>
<p>因此我们可以在获取剩余时间的时候，每次 new 一个设备时间，因为设备时间的流逝相对是准确的，并且如果设备打开了网络时间同步，也会解决这个问题。</p>
<p>但是，如果用户修改了设备时间，那么整个倒计时就没有意义了，用户只要将设备时间修改为倒计时的 endTime 就可以轻易看到倒计时结束是页面的变化。因此一开始获取服务端时间就是很重要的。</p>
<p>简单的说，一个简单的精确倒计时原理如下：</p>
<ul>
<li>初始化时请求一次服务器时间 serverTime，再 new 一个设备时间 deviceTime</li>
<li>deviceTime 与 serverTime 的差作为时间偏移修正</li>
<li>每次递归时 new 一个系统时间，解决 setTimeout 不准确的问题</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>获取剩余时间的代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取剩余时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; endTime    截止时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; deviceTime 设备时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; serverTime 服务端时间</span></span><br><span class="line"><span class="comment"> * @return &#123;Object&#125;            剩余时间对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> getRemainTime = <span class="function">(<span class="params">endTime, deviceTime, serverTime</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> t = endTime - <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>()) - serverTime + deviceTime</span><br><span class="line">    <span class="keyword">let</span> seconds = <span class="built_in">Math</span>.floor((t / <span class="number">1000</span>) % <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">let</span> minutes = <span class="built_in">Math</span>.floor((t / <span class="number">1000</span> / <span class="number">60</span>) % <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">let</span> hours = <span class="built_in">Math</span>.floor((t / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>)) % <span class="number">24</span>)</span><br><span class="line">    <span class="keyword">let</span> days = <span class="built_in">Math</span>.floor(t / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>))</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'total'</span>: t,</span><br><span class="line">        <span class="string">'days'</span>: days,</span><br><span class="line">        <span class="string">'hours'</span>: hours,</span><br><span class="line">        <span class="string">'minutes'</span>: minutes,</span><br><span class="line">        <span class="string">'seconds'</span>: seconds</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>获取服务器时间可以使用 mtop 接口 <code>mtop.common.getTimestamp</code> </del></p>
<p>然后可以通过下面的方式来使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取服务端时间（获取服务端时间代码略）</span></span><br><span class="line">getServerTime(<span class="function">(<span class="params">serverTime</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="keyword">let</span> intervalTimer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 得到剩余时间</span></span><br><span class="line">        <span class="keyword">let</span> remainTime = getRemainTime(endTime, deviceTime, serverTime)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 倒计时到两个小时内</span></span><br><span class="line">        <span class="keyword">if</span> (remainTime.total &lt;= <span class="number">7200000</span> &amp;&amp; remainTime.total &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//倒计时结束</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (remainTime.total &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            clearInterval(intervalTimer);</span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这样的的写法也可以做到准确倒计时，同时也比较简洁。不需要隔段时间再去同步一次服务端时间。</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>在写倒计时的时候遇到了一个坑这里记录一下。</p>
<p><strong>千万别在倒计时结束的时候请求接口</strong>。会让服务端瞬间 QPS 峰值达到非常高。</p>
<p><img src="https://img.alicdn.com/tfs/TB1LBzjOpXXXXcnXpXXXXXXXXXX-154-71.png" alt=""></p>
<p>如果在倒计时结束的时候要使用新的数据渲染页面，正确的做法是：</p>
<p>在倒计时结束前的一段时间里，先请求好数据，倒计时结束后，再渲染页面。</p>
<p>关于倒计时，如果你有什么更好的解决方案，欢迎评论交流。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2016-11-22-js-create-file-and-download/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2016-11-22-js-create-file-and-download/" itemprop="url">使用 JavaScript 创建并下载文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<p>本文将介绍如何使用 JavaScript 创建文件，并自动/手动将文件下载。这在导出原始数据时会比较方便。</p>
<h2 id="先上代码"><a href="#先上代码" class="headerlink" title="先上代码"></a>先上代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建并下载文件</span></span><br><span class="line"><span class="comment"> * @param  &#123;String&#125; fileName 文件名</span></span><br><span class="line"><span class="comment"> * @param  &#123;String&#125; content  文件内容</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAndDownloadFile</span>(<span class="params">fileName, content</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> aTag = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">    <span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([content]);</span><br><span class="line">    aTag.download = fileName;</span><br><span class="line">    aTag.href = URL.createObjectURL(blob);</span><br><span class="line">    aTag.click();</span><br><span class="line">    URL.revokeObjectURL(blob);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>很简单对吧，直接调用这个方法，传入文件名和文件内容，程序新建 a 标签，新建 Blob 对象，将文件名赋给 a 标签，同时将 Blob 对象作为 Url 也赋给 a 标签，模拟点击事件，自动下载成功，最后再回收内存。下面我们来看看具体是怎么操作的。</p>
<p><img src="https://img.alicdn.com/tfs/TB16.GnOpXXXXXdapXXXXXXXXXX-307-134.png" alt=""></p>
<h2 id="Blob-对象"><a href="#Blob-对象" class="headerlink" title="Blob 对象"></a>Blob 对象</h2><p>Blob 对象是一个字节序列。拥有 <code>size</code> 和 <code>type</code> 等属性。</p>
<p>拥有 2 个只读状态 <code>OPEND</code> 和 <code>CLOSED。</code></p>
<p>Blob 对象属于 JavaScript Web APIs 中的 File API 规定的部分，可以参考 W3C 文档中的 <a href="https://www.w3.org/TR/2015/WD-FileAPI-20150421/#blob" target="_blank" rel="noopener"> The Blob Interface and Binary Data</a></p>
<p>再回来看看我们的代码里是这么写的，使用了 Blob 的构造函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([content]);</span><br></pre></td></tr></table></figure>
<p>使用方括号的原因是，其构造函数的参数为以下4中：</p>
<ul>
<li>ArrayBuffer [TypedArrays] elements.</li>
<li>ArrayBufferView [TypedArrays] elements.</li>
<li>Blob elements.</li>
<li>DOMString [WebIDL] elements.</li>
</ul>
<p>所谓 <code>ArrayBuffer</code> 是一种用于呈现通用、固定长度的二进制数据的类型。详情可以参考 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noopener">ArrayBuffer -MDN</a> 以及 <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-arraybuffer-objects" target="_blank" rel="noopener">ECMAScript2015 标准中的 ArrayBuffer</a>。</p>
<h2 id="Blob-URLs"><a href="#Blob-URLs" class="headerlink" title="Blob URLs"></a>Blob URLs</h2><p>Blob URLs 被创建或注销是使用 <code>URL</code> 对象上的方法。这个 <code>URL</code> 对象被挂在 <code>Window</code> (HTML) 对象下，或者 <code>WorkerGlobalScope</code> (Web Workers)对象下。</p>
<p>拥有以下静态方法 <code>createObjectURL</code> 和 <code>revokeObjectURL</code>，用于创建一个 blob 对象的 url 和注销这个 blob url。</p>
<p>详情可查看 <a href="https://www.w3.org/TR/2015/WD-FileAPI-20150421/#creating-revoking" target="_blank" rel="noopener">关于创建和注销 Blob URL 的 W3C 标准文档</a></p>
<h2 id="模拟-click"><a href="#模拟-click" class="headerlink" title="模拟 click"></a>模拟 click</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.click();</span><br></pre></td></tr></table></figure>
<p>在 W3C 中很早就有这个<a href="https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-2651361" target="_blank" rel="noopener">规范</a>，不需要写繁琐的模拟事件触发的代码。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>目前我将这个技术使用在 天猫双十一技术和UED庆功会 的摇火箭大屏游戏中。最后的游戏结果排名，在请求了接口后，在前端直接生成并下载到了本地，作为记录保存。主要也是因为服务端暂时没有提供这个一张表去记录游戏结果，于是采用了前端记录的解决方案。</p>
<p>大家当时都玩的好开心啊，😁。你们的甘其食和全家卡的名单就是这样生成的！</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.alloyteam.com/2014/01/use-js-file-download/" target="_blank" rel="noopener">在浏览器端用JS创建和下载文件 -alloyteam</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2016-11-25-how-to-write-a-count-down/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2016-11-25-how-to-write-a-count-down/" itemprop="url">前端如何写一个精确的倒计时</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<p>关于写倒计时大家可能都都比较熟悉，使用 setTimeout 或 setInterval 就可以搞定。几秒钟或者几分钟的倒计时这样写没有问题，但是如果是长时间的倒计时，这样写就会不准确。如果用户修改了他的设备时间，这样的倒计时就没有意义了。今天就说说写一个精确的倒计时的方法。</p>
<p><img src="https://img.alicdn.com/tfs/TB18QnlOpXXXXcVXpXXXXXXXXXX-388-256.png" alt=""></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>众所周知 setTimeout 或者 setInterval 调用的时候会有微小的误差。有人做了一个 <a href="https://bl.ocks.org/kenpenn/raw/92ebaa71696b4c4c3acd672b1bb3f49a/" target="_blank" rel="noopener">demo</a> 来观察这个现象并对其做了修正。短时间的误差倒也可以接受，但是作为一个长时间的倒计时，误差累计就会导致倒计时不准确。</p>
<p>因此我们可以在获取剩余时间的时候，每次 new 一个设备时间，因为设备时间的流逝相对是准确的，并且如果设备打开了网络时间同步，也会解决这个问题。</p>
<p>但是，如果用户修改了设备时间，那么整个倒计时就没有意义了，用户只要将设备时间修改为倒计时的 endTime 就可以轻易看到倒计时结束是页面的变化。因此一开始获取服务端时间就是很重要的。</p>
<p>简单的说，一个简单的精确倒计时原理如下：</p>
<ul>
<li>初始化时请求一次服务器时间 serverTime，再 new 一个设备时间 deviceTime</li>
<li>deviceTime 与 serverTime 的差作为时间偏移修正</li>
<li>每次递归时 new 一个系统时间，解决 setTimeout 不准确的问题</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>获取剩余时间的代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取剩余时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; endTime    截止时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; deviceTime 设备时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;Number&#125; serverTime 服务端时间</span></span><br><span class="line"><span class="comment"> * @return &#123;Object&#125;            剩余时间对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> getRemainTime = <span class="function">(<span class="params">endTime, deviceTime, serverTime</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> t = endTime - <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>()) - serverTime + deviceTime</span><br><span class="line">    <span class="keyword">let</span> seconds = <span class="built_in">Math</span>.floor((t / <span class="number">1000</span>) % <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">let</span> minutes = <span class="built_in">Math</span>.floor((t / <span class="number">1000</span> / <span class="number">60</span>) % <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">let</span> hours = <span class="built_in">Math</span>.floor((t / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>)) % <span class="number">24</span>)</span><br><span class="line">    <span class="keyword">let</span> days = <span class="built_in">Math</span>.floor(t / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>))</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'total'</span>: t,</span><br><span class="line">        <span class="string">'days'</span>: days,</span><br><span class="line">        <span class="string">'hours'</span>: hours,</span><br><span class="line">        <span class="string">'minutes'</span>: minutes,</span><br><span class="line">        <span class="string">'seconds'</span>: seconds</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>获取服务器时间可以使用 mtop 接口 <code>mtop.common.getTimestamp</code> </del></p>
<p>然后可以通过下面的方式来使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取服务端时间（获取服务端时间代码略）</span></span><br><span class="line">getServerTime(<span class="function">(<span class="params">serverTime</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="keyword">let</span> intervalTimer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 得到剩余时间</span></span><br><span class="line">        <span class="keyword">let</span> remainTime = getRemainTime(endTime, deviceTime, serverTime)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 倒计时到两个小时内</span></span><br><span class="line">        <span class="keyword">if</span> (remainTime.total &lt;= <span class="number">7200000</span> &amp;&amp; remainTime.total &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//倒计时结束</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (remainTime.total &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            clearInterval(intervalTimer);</span><br><span class="line">            <span class="comment">// do something</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这样的的写法也可以做到准确倒计时，同时也比较简洁。不需要隔段时间再去同步一次服务端时间。</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>在写倒计时的时候遇到了一个坑这里记录一下。</p>
<p><strong>千万别在倒计时结束的时候请求接口</strong>。会让服务端瞬间 QPS 峰值达到非常高。</p>
<p><img src="https://img.alicdn.com/tfs/TB1LBzjOpXXXXcnXpXXXXXXXXXX-154-71.png" alt=""></p>
<p>如果在倒计时结束的时候要使用新的数据渲染页面，正确的做法是：</p>
<p>在倒计时结束前的一段时间里，先请求好数据，倒计时结束后，再渲染页面。</p>
<p>关于倒计时，如果你有什么更好的解决方案，欢迎评论交流。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2016-10-16-shuffle-algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2016-10-16-shuffle-algorithm/" itemprop="url">Fisher–Yates shuffle 洗牌算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<p>简单来说 Fisher–Yates shuffle 算法是一个用来将一个有限集合生成一个随机排列的算法（数组随机排序）。这个算法生成的随机排列是等概率的。同时这个算法非常高效。</p>
<p>本文主要介绍这个算法的来源、演变、原理。并举出一个例子为大家清晰的描述每次迭代过程。最后使用 JavaScript 代码将算法实现。</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Riffle_shuffle.jpg/320px-Riffle_shuffle.jpg" alt=""></p>
<h2 id="Fisher-and-Yates-的原始版"><a href="#Fisher-and-Yates-的原始版" class="headerlink" title="Fisher and Yates 的原始版"></a>Fisher and Yates 的原始版</h2><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Biologist_and_statistician_Ronald_Fisher.jpg/189px-Biologist_and_statistician_Ronald_Fisher.jpg" alt=""></p>
<p>Fisher–Yates shuffle 的原始版本，最初描述在 1938 年的 Ronald Fisher（上图） 和 Frank Yates 写的书中，书名为《Statistical tables for biological, agricultural and medical research》。他们使用纸和笔去描述了这个算法，并使用了一个随机数表来提供随机数。它给出了 1 到 N 的数字的的随机排列，具体步骤如下：</p>
<ol>
<li>写下从 1 到 N 的数字</li>
<li>取一个从 1 到剩下的数字（包括这个数字）的随机数 k</li>
<li>从低位开始，得到第 k 个数字（这个数字还没有被取出），把它写在独立的一个列表的最后一位</li>
<li>重复第 2 步，直到所有的数字都被取出</li>
<li>第 3 步写出的这个序列，现在就是原始数字的随机排列</li>
</ol>
<p>已经证明如果第 2 步取出的数字是真随机的，那么最后得到的排序一定也是。</p>
<h2 id="现代方法"><a href="#现代方法" class="headerlink" title="现代方法"></a>现代方法</h2><p>Fisher–Yates shuffle 算法的现代版本是为计算机设计的。由 Richard Durstenfeld 在1964年 描述。并且是被 Donald E. Knuth 在 《The Art of Computer Programming》 中推广。但是不管是 Durstenfeld 还是 Knuth，都没有在书的第一版中承认这个算法是 Fisher 和 Yates 的研究成果。也许他们并不知道。不过后来出版的 《The Art of Computer Programming》提到了 Fisher 和 Yates 贡献。</p>
<p>现代版本的描述与原始略有不同，因为如果按照原始方法，愚蠢的计算机会花很多无用的时间去计算上述第 3 步的剩余数字。<strong>这里的方法是在每次迭代时交换这个被取出的数字到原始列表的最后</strong>。这样就将时间复杂度从 O(n^2) 减小到了 <strong>O(n)</strong>。算法的伪代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- To shuffle an array a of n elements (indices 0..n-1):</span><br><span class="line">for i from n−1 downto 1 do</span><br><span class="line">     j ← random integer such that 0 ≤ j ≤ i</span><br><span class="line">     exchange a[j] and a[i]</span><br></pre></td></tr></table></figure>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="迭代步骤演示"><a href="#迭代步骤演示" class="headerlink" title="迭代步骤演示"></a>迭代步骤演示</h3><p>根据每次迭代次数可以用下面的表格，描述这个算法的执行过程</p>
<table>
<thead>
<tr>
<th style="text-align:left">随机数取值范围</th>
<th style="text-align:left">随机数</th>
<th style="text-align:right">原始数据</th>
<th style="text-align:left">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:right">1 2 3 4 5 6 7 8</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">1-8</td>
<td style="text-align:left">6</td>
<td style="text-align:right">1 2 3 4 5 7 8</td>
<td style="text-align:left">6</td>
</tr>
<tr>
<td style="text-align:left">1-7</td>
<td style="text-align:left">2</td>
<td style="text-align:right">1 7 3 4 5 8</td>
<td style="text-align:left">2 6</td>
</tr>
<tr>
<td style="text-align:left">1–6</td>
<td style="text-align:left">6</td>
<td style="text-align:right">1 7 3 4 5</td>
<td style="text-align:left">8 2 6</td>
</tr>
<tr>
<td style="text-align:left">1–5</td>
<td style="text-align:left">1</td>
<td style="text-align:right">5 7 3 4</td>
<td style="text-align:left">1 8 2 6</td>
</tr>
<tr>
<td style="text-align:left">1–4</td>
<td style="text-align:left">3</td>
<td style="text-align:right">5 7 4</td>
<td style="text-align:left">3 1 8 2 6</td>
</tr>
<tr>
<td style="text-align:left">1–3</td>
<td style="text-align:left">3</td>
<td style="text-align:right">5 7</td>
<td style="text-align:left">4 3 1 8 2 6</td>
</tr>
<tr>
<td style="text-align:left">1–2</td>
<td style="text-align:left">1</td>
<td style="text-align:right">7</td>
<td style="text-align:left">5 4 3 1 8 2 6</td>
</tr>
</tbody>
</table>
<h3 id="动画演示"><a href="#动画演示" class="headerlink" title="动画演示"></a>动画演示</h3><p>下面这个动画就是整个数组 0-19 的随机排序过程</p>
<iframe height="317" scrolling="no" src="//codepen.io/haoyang/embed/jrvrQq/?height=317&theme-id=dark&default-tab=result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/haoyang/pen/jrvrQq/" target="_blank" rel="noopener">Fisher–Yates shuffle</a> by Chuan shi (<a href="http://codepen.io/haoyang" target="_blank" rel="noopener">@haoyang</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<h2 id="JavaScript-代码实现"><a href="#JavaScript-代码实现" class="headerlink" title="JavaScript 代码实现"></a>JavaScript 代码实现</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Fisher–Yates shuffle</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> input = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = input.length<span class="number">-1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> randomIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*(i+<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">var</span> itemAtIndex = input[randomIndex];</span><br><span class="line"></span><br><span class="line">        input[randomIndex] = input[i];</span><br><span class="line">        input[i] = itemAtIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用方式也很简单，直接用数组调用这个方法即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>].shuffle()</span><br><span class="line"></span><br><span class="line"><span class="comment">//[4, 6, 3, 2, 5, 1, 7, 8] // 每次结果都是随机的</span></span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总之，Fisher–Yates shuffle 算法是一个非常高效又公平的随机排序算法，如果有随机排序数组的需求，用这个就对了！</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle" target="_blank" rel="noopener">Fisher–Yates shuffle From Wikipedia</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/30/2016-07-07-git-clone-not-master-branch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jiang JinChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jiang JinChao'S Pit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/30/2016-07-07-git-clone-not-master-branch/" itemprop="url">Git 如何 clone 非 master 分支的代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-30T09:15:16+08:00">
                2018-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GitHub/" itemprop="url" rel="index">
                    <span itemprop="name">GitHub</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>content<br>{:toc}</li>
</ul>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>我们每次使用命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@gitlab.xxx.com:xxxxx.git</span><br></pre></td></tr></table></figure>
<p>默认 clone 的是这个仓库的 master 分支。如果最新的代码不在 master 分支上，该如何拿到呢？如下图所示，最新的代码可能在<code>daily/1.4.1</code>分支上，我们希望拿到这个分支上的代码。</p>
<p><img src="https://ooo.0o0.ooo/2016/07/07/577e349ab42ed.png" alt="7f07c8f6deef169ef6be5103bbd3e932f8676bb1.png"></p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p><strong>刚刚开周会的时候，自己洋洋得意的分享我的解决方案，但是……经过与团队成员的的讨论，自己的方法弱爆了，现在把更优雅的方法写一下。原来写的方法并不太适合用在这个场景里。</strong> 我之前写的方法在文章后面。</p>
<p>直接使用命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -r #查看远程分支</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a #查看所有分支</span><br></pre></td></tr></table></figure>
<p>会显示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">origin/HEAD -&gt; origin/master</span><br><span class="line">origin/daily/1.2.2</span><br><span class="line">origin/daily/1.3.0</span><br><span class="line">origin/daily/1.4.1</span><br><span class="line">origin/develop</span><br><span class="line">origin/feature/daily-1.0.0</span><br><span class="line">origin/master</span><br></pre></td></tr></table></figure>
<p>然后直接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout origin/daily/1.4.1</span><br></pre></td></tr></table></figure>
<p>就好了。。。</p>
<h2 id="原来的解决方案"><a href="#原来的解决方案" class="headerlink" title="原来的解决方案"></a>原来的解决方案</h2><p><strong>其实我原来写的这个方法更多的是：设置已有的本地分支跟踪一个刚刚拉取下来的远程分支，或者想要修改正在跟踪的上游分支。</strong></p>
<p>我们在本地先建立一个分支，建议名称和远程的想要同步的分支名称一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch daily/1.4.1</span><br></pre></td></tr></table></figure>
<p>在切换到这个本地分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout daily/1.4.1</span><br><span class="line"># Switched to branch &apos;daily/1.4.1&apos;</span><br></pre></td></tr></table></figure>
<p>接下来就可以去建立上游分支的关联了，但是这个命令比较长，不好记，我们可以直接先<code>pull</code>一下，git 会提示我们相应的操作和命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">There is no tracking information for the current branch.</span><br><span class="line">Please specify which branch you want to merge with.</span><br><span class="line">See git-pull(1) for details.</span><br><span class="line"></span><br><span class="line">    git pull &lt;remote&gt; &lt;branch&gt;</span><br><span class="line"></span><br><span class="line">If you wish to set tracking information for this branch you can do so with:</span><br><span class="line"></span><br><span class="line">    git branch --set-upstream-to=origin/&lt;branch&gt; daily/1.4.1</span><br></pre></td></tr></table></figure>
<p>我们看到最后一行，执行这个命令，即可完成与上游分支的关联。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to=origin/daily/1.4.1 daily/1.4.1</span><br><span class="line"># Branch daily/1.4.1 set up to track remote branch daily/1.4.1 from origin.</span><br></pre></td></tr></table></figure>
<p>然后再<code>pull</code>一下就好了！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Jiang JinChao</p>
              <p class="site-description motion-element" itemprop="description">人生最大的快乐不在于占有什么，而在于追求什么的过程</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fjluda" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jinchao36@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/jinchao36" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/jinchao.jiang" target="_blank" title="Facebook">
                      
                        <i class="fa fa-fw fa-facebook"></i>Facebook</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jiang JinChao</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  





</body>
</html>
